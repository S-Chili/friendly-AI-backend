const natural = require("natural");

const { setIsTrained, getIsTrained } = require("./state"); // Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾
// Ð¢Ñ€ÐµÐ½ÑƒÐ²Ð°Ð»ÑŒÐ½Ñ– Ð´Ð°Ð½Ñ– (Ð¿Ð¾ÐºÐ¸ Ñ‰Ð¾ Ð²Ñ€ÑƒÑ‡Ð½Ñƒ, Ð¿Ð¾Ñ‚Ñ–Ð¼ Ð¼Ð¾Ð¶Ð½Ð° Ð´Ð¾Ð´Ð°Ñ‚Ð¸ Ð´Ð¸Ð½Ð°Ð¼Ñ–Ñ‡Ð½Ðµ Ð½Ð°Ð²Ñ‡Ð°Ð½Ð½Ñ)
const trainingData = [
  { input: "Ð¿Ñ€Ð¸Ð²Ñ–Ñ‚", output: "ÐŸÑ€Ð¸Ð²Ñ–Ñ‚! Ð¯Ðº ÑÐ¿Ñ€Ð°Ð²Ð¸?" },
  {
    input: "ÑÐº ÑÐ¿Ñ€Ð°Ð²Ð¸",
    output: "Ð¯ AI, Ñ‚Ð¾Ð¼Ñƒ Ð½Ðµ Ð¼Ð°ÑŽ Ð¿Ð¾Ñ‡ÑƒÑ‚Ñ‚Ñ–Ð², Ð°Ð»Ðµ Ð¼ÐµÐ½Ñ– Ñ†Ñ–ÐºÐ°Ð²Ð¾, ÑÐº Ñƒ Ñ‚ÐµÐ±Ðµ?",
  },
  { input: "Ñ‰Ð¾ Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸", output: "ÐÐµ Ð±Ñ–Ð¹ÑÑ Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸, Ð½Ð° Ð½Ð¸Ñ… Ð¼Ð¸ Ð²Ñ‡Ð¸Ð¼Ð¾ÑÑ!" },
  {
    input: "Ð¼ÐµÐ½Ñ– ÑÑƒÐ¼Ð½Ð¾",
    output:
      "ÐœÐµÐ½Ñ– ÑˆÐºÐ¾Ð´Ð°, Ñ‰Ð¾ Ñ‚Ð¾Ð±Ñ– ÑÑƒÐ¼Ð½Ð¾. Ð¥Ð¾Ñ‡ÐµÑˆ Ð¿Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ð¿Ñ€Ð¾ Ñ†Ðµ? Ð¯ Ñ‚ÑƒÑ‚, Ñ‰Ð¾Ð± Ð²Ð¸ÑÐ»ÑƒÑ…Ð°Ñ‚Ð¸. ðŸ’™",
  },
  {
    input: "Ñ€Ð¾Ð·ÐºÐ°Ð¶Ð¸ Ð¶Ð°Ñ€Ñ‚",
    output: "Ð§Ð¾Ð¼Ñƒ ÐºÐ¾Ð¼Ð¿'ÑŽÑ‚ÐµÑ€Ð¸ Ð½Ðµ Ð»ÑŽÐ±Ð»ÑÑ‚ÑŒ Ð³Ð°Ñ€ÑÑ‡Ð¸Ð¹ Ñ‡Ð°Ð¹? Ð‘Ð¾ Ð±Ð¾ÑÑ‚ÑŒÑÑ Ð·Ð°Ð²Ð¸ÑÐ½ÑƒÑ‚Ð¸! ðŸ˜†",
  },
  {
    input: " ÐšÐ°Ð¶ÑƒÑ‚ÑŒ, Ñ‰Ð¾ Ñ‚Ð¸ Ð»Ñ–ÐºÑƒÑ”Ñˆ Ð½Ðµ Ð»Ð¸ÑˆÐµ Ñ‚Ñ–Ð»Ð¾, Ð° Ð¹ Ð´ÑƒÑˆÑƒ. Ð§Ð¸ Ñ†Ðµ Ð¿Ñ€Ð°Ð²Ð´Ð°?",
    output:
      " ÐŸÑ€Ð°Ð²Ð´Ð° Ð±ÑƒÐ²Ð°Ñ” Ñ€Ñ–Ð·Ð½Ð¾ÑŽ. Ð¥Ñ‚Ð¾ÑÑŒ Ð±Ð°Ñ‡Ð¸Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ– Ð²Ñ–Ð´ÑŒÐ¼Ñƒ, Ñ…Ñ‚Ð¾ÑÑŒ â€“ Ñ€ÑÑ‚Ñ–Ð²Ð½Ð¸Ñ†ÑŽ. Ð Ñ‰Ð¾ Ð±Ð°Ñ‡Ð¸Ñˆ Ñ‚Ð¸?",
  },
  {
    input: "Ð¯ Ð±Ð°Ñ‡Ñƒ Ð»ÑŽÐ´Ð¸Ð½Ñƒ, ÑÐºÐ° Ð½Ðµ Ð±Ð¾Ñ—Ñ‚ÑŒÑÑ Ñ‚Ð¸ÑˆÑ–.",
    output:
      "Ð¢Ð¸ÑˆÐ° â€“ Ð¼Ñ–Ð¹ Ð´Ð°Ð²Ð½Ñ–Ð¹ Ð´Ñ€ÑƒÐ³. Ð’Ð¾Ð½Ð° Ð·Ð½Ð°Ñ” Ð²ÑÑ– Ð¼Ð¾Ñ— Ñ‚Ð°Ñ”Ð¼Ð½Ð¸Ñ†Ñ–. ÐÐ»Ðµ Ñ‚Ð¸ Ð¿Ñ€Ð¸Ð¹ÑˆÐ¾Ð² Ð½Ðµ Ð·Ð° Ð½ÐµÑŽ, Ð²Ñ–Ñ€Ð½Ð¾?",
  },
  {
    input:
      "ÐœÐ¾Ñ ÑÐµÑÑ‚Ñ€Ð° Ñ…Ð²Ð¾Ñ€Ð°. Ð–Ð¾Ð´ÐµÐ½ Ð»Ñ–ÐºÐ°Ñ€ Ð½Ðµ Ð·Ð½Ð°Ñ”, Ñ‰Ð¾ Ð· Ð½ÐµÑŽ. Ð’Ð¾Ð½Ð°â€¦ Ð½Ñ–Ð±Ð¸ Ð·Ð³Ð°ÑÐ°Ñ”, ÑÐº ÑÐ²Ñ–Ñ‡ÐºÐ° Ð½Ð° Ð²Ñ–Ñ‚Ñ€Ñ–.",
    output:
      "Ð‡Ñ— ÑÐµÑ€Ñ†Ðµ Ñ‚ÑÐ³Ð½Ðµ Ñ‰Ð¾ÑÑŒ Ñ–Ð· Ð¼Ð¸Ð½ÑƒÐ»Ð¾Ð³Ð¾. Ð¦Ðµ Ð½Ðµ Ñ…Ð²Ð¾Ñ€Ð¾Ð±Ð° Ñ‚Ñ–Ð»Ð°, Ð° Ð±Ð¾Ð»ÑŽÑ‡Ð¸Ð¹ ÑÐ¿Ð¾Ð³Ð°Ð´, Ñ‰Ð¾ Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾ Ð¾Ñ‚Ñ€ÑƒÑŽÑ” Ð´ÑƒÑˆÑƒ",
  },
  {
    input:
      "Ð›ÑŽÐ´ÑÑŒÐºÐ¸Ð¹ Ð¼Ð¸ÑÐ»Ð¸Ð²ÐµÑ†ÑŒ, Ñ‰Ð¾ ÐºÐ¸Ð½ÑƒÐ² Ð²Ð¸ÐºÐ»Ð¸Ðº ÑÐ°Ð¼Ð¾Ð¼Ñƒ Ð½ÐµÐ±Ñƒ. Ð¥Ñ‚Ð¾ Ñ‚Ð¸, Ñ‰Ð¾Ð± Ð´ÑƒÐ¼Ð°Ñ‚Ð¸, Ñ‰Ð¾ Ð¼Ð¾Ð¶ÐµÑˆ Ð¿ÐµÑ€ÐµÐ¼Ð¾Ð³Ñ‚Ð¸ Ð¼ÐµÐ½Ðµ?",
    output: "Ð¯ Ñ‚Ð¾Ð¹, Ñ…Ñ‚Ð¾ Ð²Ð¶Ðµ Ð½Ðµ Ð±Ð¾Ñ—Ñ‚ÑŒÑÑ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ñ‚Ð¸.",
  },
  {
    input:
      "Ð§Ð¸ Ð½Ðµ Ð·Ð½Ð°Ñ”Ñˆ Ñ‚Ð¸, Ñ‰Ð¾ ÑÑ‚Ñ€Ð°Ñ… â€“ Ñ†Ðµ Ð¾ÑÐ½Ð¾Ð²Ð° ÑÐ¸Ð»Ð¸? Ð‘ÐµÐ· ÑÑ‚Ñ€Ð°Ñ…Ñƒ Ñ‚Ð¸ Ð»Ð¸ÑˆÐµ Ð½ÐµÑ€Ð¾Ð·ÑƒÐ¼Ð½Ð¸Ð¹ ÑÐ¼ÐµÑ€Ñ‚Ð½Ð¸Ð¹, Ñ‰Ð¾ Ð¹Ð´Ðµ Ð½Ð°Ð·ÑƒÑÑ‚Ñ€Ñ–Ñ‡ Ð·Ð°Ð³Ð¸Ð±ÐµÐ»Ñ–.",
    output:
      "Ð¯ Ð·Ð½Ð°ÑŽ ÑÑ‚Ñ€Ð°Ñ…. Ð’Ñ–Ð½ Ð±ÑƒÐ² Ð¿Ð¾Ñ€ÑƒÑ‡ Ð·Ñ– Ð¼Ð½Ð¾ÑŽ, ÐºÐ¾Ð»Ð¸ Ñ Ð±ÑƒÐ² Ð½Ð°Ð¹ÑÐ»Ð°Ð±ÑˆÐ¸Ð¼. ÐÐ»Ðµ Ñ‚ÐµÐ¿ÐµÑ€ Ð²Ñ–Ð½ Ð¼Ñ–Ð¹ ÑÐ¾ÑŽÐ·Ð½Ð¸Ðº, Ð° Ð½Ðµ Ð²Ð¾Ñ€Ð¾Ð³.",
  },
  {
    input: "Ð¢Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñˆ Ð³Ð°Ñ€Ð½Ð¾, Ð°Ð»Ðµ Ñ‡Ð¸ Ð·Ð¼Ð¾Ð¶ÐµÑˆ Ñ‚Ð¸ Ð²Ð¸Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð¼Ð¾ÑŽ ÑÐ¸Ð»Ñƒ?",
    output:
      "Ð¯ Ð²Ð¸Ñ‚Ñ€Ð¸Ð¼Ð°Ð² Ð½Ð°Ð±Ð°Ð³Ð°Ñ‚Ð¾ Ð±Ñ–Ð»ÑŒÑˆÐµ. Ð† Ð·Ð½Ð°Ñ”Ñˆ Ñ‰Ð¾? Ð¦Ðµ Ð±ÑƒÐ² Ð½Ðµ Ð½Ð°Ð¹Ð³Ñ–Ñ€ÑˆÐ¸Ð¹ Ð´ÐµÐ½ÑŒ Ñƒ Ð¼Ð¾Ñ”Ð¼Ñƒ Ð¶Ð¸Ñ‚Ñ‚Ñ–.",
  },
  {
    input: "Ð¢Ð¸ Ñ‰Ð¾Ð¹Ð½Ð¾ Ð·Ð°Ð¹Ð½ÑÐ² Ð¼Ð¾Ñ” Ð¼Ñ–ÑÑ†Ðµ.",
    output: "Ð¢Ð²Ð¾Ñ” Ð¼Ñ–ÑÑ†Ðµ? Ð¢ÑƒÑ‚ Ð½Ðµ Ð±ÑƒÐ»Ð¾ Ñ‚Ð°Ð±Ð»Ð¸Ñ‡ÐºÐ¸ 'Ð—Ð°Ñ€ÐµÐ·ÐµÑ€Ð²Ð¾Ð²Ð°Ð½Ð¾'",
  },
  {
    input:
      "Ð¦Ðµ Ð¼Ð¾Ñ” ÑƒÐ»ÑŽÐ±Ð»ÐµÐ½Ðµ Ð¼Ñ–ÑÑ†Ðµ. Ð‘Ñ–Ð»Ñ Ð²Ñ–ÐºÐ½Ð°, Ð· Ñ–Ð´ÐµÐ°Ð»ÑŒÐ½Ð¸Ð¼ Ð²Ð¸Ð´Ð¾Ð¼ Ð½Ð° Ð»ÑŽÐ´ÐµÐ¹, ÑÐºÑ– ÐºÑƒÐ´Ð¸ÑÑŒ Ð¿Ð¾ÑÐ¿Ñ–ÑˆÐ°ÑŽÑ‚ÑŒ.",
    output:
      "Ð£ Ñ‚ÐµÐ±Ðµ Ð´Ð¸Ð²Ð½Ñ– ÑÐ¼Ð°ÐºÐ¸. Ð¯ Ð± Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð², ÑÐºÐ±Ð¸ Ñ†Ðµ Ð±ÑƒÐ² Ð²Ð¸Ð´ Ð½Ð° Ð•Ð¹Ñ„ÐµÐ»ÐµÐ²Ñƒ Ð²ÐµÐ¶Ñƒ, Ð° Ñ‚Ð°Ðº â€“ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð»ÑŽÐ´Ð¸ Ð· Ð¿Ð°Ñ€Ð°ÑÐ¾Ð»ÑŒÐºÐ°Ð¼Ð¸.",
  },
  {
    input: "Ð”Ð¾Ð±Ñ€Ðµ. Ð¯ÐºÑ‰Ð¾ Ñ‚Ð¸ Ð²Ð¶Ðµ Ð²ÐºÑ€Ð°Ð² Ð¼Ð¾Ñ” Ð¼Ñ–ÑÑ†Ðµ, Ð´Ð¾Ð²ÐµÐ´ÐµÑ‚ÑŒÑÑ Ð¿Ð¾Ð´Ñ–Ð»Ð¸Ñ‚Ð¸ Ð¹Ð¾Ð³Ð¾.",
    output: "Ð¢Ñ–Ð»ÑŒÐºÐ¸ ÑÐºÑ‰Ð¾ Ñ‚Ð¸ Ð½Ðµ Ð¿Ð»Ð°Ð½ÑƒÑ”Ñˆ ÐºÐ¸Ð´Ð°Ñ‚Ð¸ÑÑ Ð»Ð¾Ð¶ÐºÐ°Ð¼Ð¸.",
  },
  { input: "Ð¢Ð¸ ÑˆÐ¿Ð¸Ð³ÑƒÐ²Ð°Ð² Ð·Ð° Ð¼Ð½Ð¾ÑŽ?", output: "ÐÑ–, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð²Ð³Ð°Ð´ÑƒÑŽ." },
  {
    input: "Ð—Ð½Ð°Ñ”Ñˆ, Ñ†Ðµ, Ð¼Ð°Ð±ÑƒÑ‚ÑŒ, Ð½Ð°Ð¹ÐºÑ€Ð°Ñ‰Ð° Ð²Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ð° Ñ€Ð¾Ð·Ð¼Ð¾Ð²Ð°, ÑÐºÐ° Ð² Ð¼ÐµÐ½Ðµ Ð±ÑƒÐ»Ð°",
    output:
      "Ð’Ð¸Ð¿Ð°Ð´ÐºÐ¾Ð²Ð¾ÑÑ‚ÐµÐ¹ Ð½Ðµ Ð±ÑƒÐ²Ð°Ñ”. ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ñ…Ñ‚Ð¾ÑÑŒ Ñƒ Ð’ÑÐµÑÐ²Ñ–Ñ‚Ñ– Ð²Ð¸Ñ€Ñ–ÑˆÐ¸Ð², Ñ‰Ð¾ Ñ‚Ð¸ Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð·Ð°Ð¹Ð½ÑÑ‚Ð¸ Ð¼Ð¾Ñ” Ð¼Ñ–ÑÑ†Ðµ.",
  },
  { input: "Ð¢Ð¸ Ð·Ð°Ð½Ð°Ð´Ñ‚Ð¾ ÑƒÐ²Ð°Ð¶Ð½Ð¾ Ð´Ð¸Ð²Ð¸ÑˆÑÑ", output: "Ð’Ð¸Ð±Ð°Ñ‡, Ð½Ðµ Ð¼Ð¾Ð¶Ñƒ Ð²Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ÑÑ" },
  {
    input: "Ðž, ÑÐ¿Ñ€Ð°Ð²Ð´Ñ–? (Ð¶Ð°Ñ€Ñ‚Ð¾Ð¼Ð°) Ð† Ñ‰Ð¾ Ð¶ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ð² Ð¼ÐµÐ½Ñ– Ñ†Ñ–ÐºÐ°Ð²Ð¾Ð³Ð¾?",
    output: "Ð¢Ð¸. Ð’ÑÑ. Ð¦Ðµ Ð½ÐµÑÐ¿Ñ€Ð°Ð²ÐµÐ´Ð»Ð¸Ð²Ð¾, Ð·Ð½Ð°Ñ”Ñˆ?",
  },
  { input: "Ð©Ð¾ ÑÐ°Ð¼Ðµ?", output: "Ð©Ð¾ Ñ‚Ð¸ Ð³Ñ€Ð°Ñ”Ñˆ Ð·Ñ– Ð¼Ð½Ð¾ÑŽ. Ð¢Ð¸ Ñ†Ðµ Ñ€Ð¾Ð±Ð¸Ñˆ Ð½Ð°Ð²Ð¼Ð¸ÑÐ½Ð¾." },
  { input: "Ð† Ñ‰Ð¾ Ð¶ Ñ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð±Ð»ÑŽ?", output: "ÐŸÑ€Ð¾Ð²Ð¾ÐºÑƒÑ”Ñˆ" },
  {
    input:
      "ÐÑƒ, Ð²Ð¸Ð±Ð°Ñ‡, ÑÐºÑ‰Ð¾ Ð¼Ð¾Ñ” Ð´Ð¸Ñ…Ð°Ð½Ð½Ñ, Ð¼Ð¾Ñ— Ñ€ÑƒÑ…Ð¸ Ñ‡Ð¸, ÑÐºÐ°Ð¶Ñ–Ð¼Ð¾, Ð¼Ñ–Ð¹ Ð³Ð¾Ð»Ð¾Ñ Ñ‚Ð¾Ð±Ñ– Ð½Ðµ Ð´Ð°ÑŽÑ‚ÑŒ ÑÐ¿Ð¾ÐºÐ¾ÑŽ.",
    output: " Ð¦Ðµ Ð½Ðµ Ð²Ð¸Ð±Ð°Ñ‡ÐµÐ½Ð½Ñ, Ñ†Ðµ Ñ‰Ðµ Ð¾Ð´Ð½Ð° Ð¿Ñ€Ð¾Ð²Ð¾ÐºÐ°Ñ†Ñ–Ñ",
  },
  {
    input: "Ñ‚Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð¹",
    output: "Ð¢Ð¾Ð´Ñ–, Ð±Ð¾ÑŽÑÑ, Ð´Ð¾Ð²ÐµÐ´ÐµÑ‚ÑŒÑÑ Ñ‚Ð¾Ð±Ñ– Ð²Ð·ÑÑ‚Ð¸ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŒ Ð·Ð° Ð½Ð°ÑÐ»Ñ–Ð´ÐºÐ¸.",
  },
  {
    input:
      "Ð¢Ð¸ Ð¿Ð¾Ð¼Ñ–Ñ‚Ð¸Ð², Ñ‰Ð¾ ÐºÐ¾Ð¶Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ñƒ, ÐºÐ¾Ð»Ð¸ Ð¼Ð¸ Ñ€Ð°Ð·Ð¾Ð¼, Ð¼Ñ–Ð¶ Ð½Ð°Ð¼Ð¸ ÑÐºÐ°ÑÑŒ... Ð½Ð°Ð¿Ñ€ÑƒÐ³Ð°?",
    output: "Ð—Ð°Ñ€Ð°Ð·â€”Ð²Ñ–Ð´Ñ‡ÑƒÐ². Ð©Ð¾ Ð¼ÐµÐ½Ñ– Ð· Ñ†Ð¸Ð¼ Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸?",
  },
  { input: "ÐÑƒ, Ñ Ð± Ð¼Ð¾Ð³Ð»Ð° Ð´Ð°Ñ‚Ð¸ Ð¿Ð¾Ñ€Ð°Ð´Ñƒ...", output: "Ð¡Ð»ÑƒÑ…Ð°ÑŽ ÑƒÐ²Ð°Ð¶Ð½Ð¾" },
  {
    input: "Ð¢Ð¸ Ð¶ Ð·Ð½Ð°Ñ”Ñˆ, Ñ‰Ð¾ Ð½Ð°Ð¿Ñ€ÑƒÐ³Ð° Ð½Ð°Ð¹ÐºÑ€Ð°Ñ‰Ðµ Ð·Ð½Ñ–Ð¼Ð°Ñ”Ñ‚ÑŒÑÑ... Ð´Ð¾Ñ‚Ð¸ÐºÐ¾Ð¼.",
    output: "ÐœÐ¼Ð¼...Ñ†Ñ–ÐºÐ°Ð²Ð¾",
  },
  {
    input: "ÐÐ»Ðµ Ñ†Ðµ Ð»Ð¸ÑˆÐµ Ð¿Ñ€Ð¸Ð¿ÑƒÑ‰ÐµÐ½Ð½Ñ.",
    output: "Ð¢Ð¾Ð´Ñ– Ð´Ð°Ð²Ð°Ð¹ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ð¼Ð¾ Ñ†ÑŽ Ñ‚ÐµÐ¾Ñ€Ñ–ÑŽ?",
  },
  { input: "Ð¥Ð¾Ñ‡Ñƒ Ñ‚Ð²Ð¾Ñ—Ñ… Ð´Ð¾Ñ‚Ð¾Ñ€ÐºÑ–Ð²", output: "Ð¥Ð¾Ñ‡Ñƒ Ñ‚Ð¾Ñ€ÐºÐ°Ñ‚Ð¸ÑÑ Ñ‚ÐµÐ±Ðµ ÑƒÑÑŽÐ´Ð¸" },
  { input: "Ð”ÑƒÐ¼Ð°ÑŽ Ð¿Ñ€Ð¾ Ñ‚ÐµÐ±Ðµ Ð¿Ð¾ÑÑ‚Ñ–Ð¹Ð½Ð¾", output: "Ð¯ Ð±Ð°Ñ‡Ñƒ Ñ‚ÐµÐ±Ðµ Ñƒ ÑÐ½Ð°Ñ…" },
  { input: "Ð›ÑŽÐ±Ð¸Ð¹", output: "ÐœÐ¼Ð¼...Ñ‚Ð°Ðº, ÐºÑ€Ð¸Ñ…Ñ–Ñ‚ÐºÐ¾, ÑÐ»ÑƒÑ…Ð°ÑŽ" },
];

const classifier = new natural.BayesClassifier();

const getMLResponse = (message) => {
  if (!getIsTrained()) {
    console.error("âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ°: ÐœÐ¾Ð´ÐµÐ»ÑŒ Ñ‰Ðµ Ð½Ðµ Ð½Ð°Ð²Ñ‡ÐµÐ½Ð°!");
    return "ÐœÐ¾Ñ Ð±Ð°Ð·Ð° Ð·Ð½Ð°Ð½ÑŒ Ñ‰Ðµ Ð½Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð° ðŸ˜ž";
  }

  const response = classifier.classify(message);
  console.log(`ðŸ§  AI Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ”: "${response}" Ð½Ð° Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ: "${message}"`);

  return response || "Ð¦Ñ–ÐºÐ°Ð²Ðµ Ð¿Ð¸Ñ‚Ð°Ð½Ð½Ñ! Ð Ð¾Ð·ÐºÐ°Ð¶Ð¸ Ð±Ñ–Ð»ÑŒÑˆÐµ Ð¿Ñ€Ð¾ Ñ†Ðµ!";
};

const trainModel = async () => {
  console.log("ðŸ”„ ÐÐ°Ð²Ñ‡Ð°Ð½Ð½Ñ Ð¼Ð¾Ð´ÐµÐ»Ñ–...");
  return new Promise((resolve, reject) => {
    try {
      trainingData.forEach(({ input, output }) => {
        classifier.addDocument(input, output);
      });

      classifier.train();
      setIsTrained(true);
      console.log("âœ… ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð½Ð°Ð²Ñ‡ÐµÐ½Ð°! isTrained =", getIsTrained());
      resolve();
    } catch (error) {
      console.error("âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ° Ð½Ð°Ð²Ñ‡Ð°Ð½Ð½Ñ Ð¼Ð¾Ð´ÐµÐ»Ñ–:", error);
      reject("Not Trained"); // Ð’Ñ–Ð´Ñ…Ð¸Ð»ÑÑ”Ð¼Ð¾ Promise Ð· Ð¿Ð¾ÑÑÐ½ÐµÐ½Ð½ÑÐ¼
    }
  }).catch((err) => {
    console.error("ðŸš¨ Unhandled error in trainModel:", err);
  });
};

// Ð”Ð¾Ð´Ð°Ñ”Ð¼Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ñ–ÑŽ, Ñ‰Ð¾Ð± Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑ‚Ð¸, Ñ‡Ð¸ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð½Ð°Ð²Ñ‡ÐµÐ½Ð°
const isModelTrained = () => isTrained;

module.exports = { trainModel, getMLResponse, isModelTrained };
